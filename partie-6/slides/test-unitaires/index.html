<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1">
	<title>Test unitaires</title>

	<link href="../../../common/css/css.css" rel="stylesheet" type="text/css">
	<link href="../../../common/css/prettify.css" rel="stylesheet" id="prettify-link">

	<link href="../../../common/css/default.css" class="theme" rel="stylesheet">
	<link href="../../../common/css/dev.css" class="theme" rel="stylesheet">

	<script src="../../../common/jquery/jquery-1.4.4.min.js"></script>
	<script src="../../../common/jquery/jquery-ui-1.8.7.custom.min.js"></script>

	<script src="../../../common/js/code.js"></script>
	<script src="../../../common/js/prettify.js"></script>
    <script src="../../../common/jquery/jquery-1.8.3.min.js"></script>
    <script src="../../../common/js/prez.js"></script>

</head>
<body onload="prettyPrint();">
	<div class="presentation">
		<div id="presentation-counter">Chargement...</div>

		<div style="display: block;" class="slides">

			<div class="slide">
				<section id="landing-slide" class="middle">
					<p>Le développement par les tests</p>
				</section>
			</div>

			<div class="slide">
				<header>Une pratique agile</header>
				<section>
					<p>En pratique, on écrit un code de test avant d'écrire le code de l'application.</p>
                    <p>En anglais, c'est le <b>Test Driven Development</b> (TDD) ou le Test First Development.</p>
                    <p>En se plaçant d'un point de vue externe à l'application, les tests permettent :</p>
                    <ul>
                        <li>De designer des interfaces (APIs) simples et efficaces.</li>
                        <li>De faciliter la conception en se plaçant dans un cas d'utilisation.</li>
                        <li>De valider le fonctionnement de chaque nouveau morceau de l'application.</li>
                        <li>De refactorer le code en limitant les risques de casser l'existant (régression).</li>
                    </ul>
                    <p>L'ensemble des tests unitaires en place pour un projet est appelé <b>la suite de tests</b>.</p>
                    <p>Elle doit s'exécuter <b>rapidement</b> afin de pouvoir être exécutée souvent.</p>
				</section>
			</div>

			<div class="slide">
				<header>Le cycle d'ajout de fonctionnalités</header>
				<section>
					<p>En développant par les tests, la technique est immuable :</p>
                    <ul>
                        <li>Ecrire un test qui ne passe pas (red light pattern).</li>
                        <li>Faire passer le test (green light pattern).</li>
                        <li>Améliorer le code sans casser les tests (refactoring).</li>
                    </ul>
                    <img src="img/red-green-refactoring.png" height="200px" style="margin: 20px 0px 20px 250px">
                    <p>On répète ce cycle jusqu'a obtenir le niveau de fonctionnalités souhaité.</p>
                    <p>Les test couvrent idéalement tout le code.</p>
				</section>
			</div>

			<div class="slide">
				<header>xUnit</header>
				<section>
                    <p>Il existe beaucoup de librairies de test unitaires.</p>
                    <p>En java, c'est JUnit (de la famille des xUnit) initiée par Kent beck et Erich Gamma qui est la plus répandue.</p>
					<p>Un test unitaire est une série d'assertions ciblant une méthode du code.</p>
                    <pre>public class PersonTest {
 @Test
 public void getFullname() {
  Person person = new Person("John", "Doe");

  Assert.assertEquals("fullname is incorrect", person.getFullname(), "John Doe");
 }
}</pre>
				</section>
			</div>

			<div class="slide">
				<header>Un terrain de d'apprentissage</header>
				<section>
                    <p>Lorsque l'on découvre une nouvelle librairie, il est possible d'écrire quelques tests unitaires afin d'apprendre à l'utiliser.</p>
                    <p>C'est une façon simple de découvrir une nouvelle API et de vérifier qu'elle répond bien au besoin.</p>
                    <p>Les tests servent de tutorial simple pour l'équipe.</p>
                    <p>Si la version de la librairie augmente, les tests permettent de détecter un changement d'API ou de comportement.</p>
				</section>
			</div>

			<div class="slide">
				<header>La maintenance</header>
				<section>
                    <p>En cas de bug en production, le premier réflexe est d'arriver à le reproduire systématiquement.</p>
                    <p>La meilleure méthode possible est l'écriture d'un test unitaire.</p>
                    <p>On repart alors sur le cycle classique : red light -> green light -> refactoring.</p>
                    <p>Une fois en place, le test garanti que le bug ne reviendra pas (non régression).</p>
				</section>
			</div>

			<div class="slide">
				<header>Extensions</header>
				<section>
                    <p>En complément de junit, voici quelques possibilités de compléments :</p>
                    <ul>
                        <li>fest assert : permet d'écrire des asertions plus lisiblement.</li>
                        <li>mockito : création de mocks (simulation de comportement).</li>
                        <li>selenium : test d'interfaces web.</li>
                        <li>dbunit : pour les bases données relationelles.</li>
                        <li>xmlunit : comparaison d'arbres xml.</li>
                    </ul>
				</section>
			</div>

			<div class="slide">
                <header>Le livre de référence</header>
				<section>
                    <img src="img/test-driven-development.jpg" style="margin: 50px 0 50px 240px;"/>
					<p style="margin-left: 180px;">Une étude de cas simple et claire par Kent Beck.</p>
				</section>
			</div>

		</div> <!-- slides -->
	</div> <!-- presentation -->
</body>
</html>