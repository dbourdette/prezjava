<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1">
    <title>Eclipse</title>

    <link href="../../../common/css/css.css" rel="stylesheet" type="text/css">
    <link href="../../../common/css/prettify.css" rel="stylesheet" id="prettify-link">
    <link href="../../../common/css/default.css" class="theme" rel="stylesheet">
    <link href="../../../common/css/dev.css" class="theme" rel="stylesheet">
    <link href="../../../common/css/project.css" class="theme" rel="stylesheet">

    <script src="../../../common/js/prettify.js" onload="prettyPrint();"></script>
    <script src="../../../common/js/main.js" type="text/javascript"></script>
</head>
<body>
<div class="presentation">
    <div id="project">
        <h1 style="line-height:50px;padding-left:10px;"><img src="img/eclipse_icon.png" height="50" style="float:left;"/> Eclipse</h1>

        <p>Un IDE est un environnement complet qui permet de travailler plus vite en regroupant de multiples outils de développement dans une même interface.</p>

        <p>Eclipse est l'IDE java le plus utilisé au monde. Il est extrêmement populaire car il est très complet, modulaire et gratuit.</p>

        <p>Il dispose d'une myriade de plugins et est aussi la base (<a href="http://wiki.eclipse.org/index.php/Rich_Client_Platform" class="external" target="_blank">eclipse rcp</a>) pour des environnements de développement spécialisés.</p>

        <p>En <a href="http://www.eclipse.org/downloads/" class="external" target="_blank">téléchargement</a>, il existe plusieurs bundles : eclipse classic + une sélection de plugins.</p>

        <p>L'une des 2 versions ci-dessous convient pour les manipulations à venir :</p>

        <ul>
            <li><b>Eclipse IDE for Java EE Developers</b> est la version la plus complète pour débuter</li>
            <li><b>SpringSource Tool Suite</b> propose un support pour les produit spring source (spring, groovy...)</li>
        </ul>

        <p>Les autres IDEs les plus utilisés sont : </p>

        <ul>
            <li>Netbeans : c'est l'IDE de référence développé par Sun. Il est gratuit et suit très bien les spécifications jee. Ce n'est pourtant pas l'environnement de choix pour les utilisateurs avancés.</li>
            <li>Intellij : Un IDE payant (la version communautaire est gratuite) de très bonne qualité. Contrairement à eclipse qui se nourrit de plugins issus de la communauté, les plugins intellij sont mieux intégrés à l'environnement de base.</li>
        </ul>

        <p>Le but de ce tp est de se familiariser avec l'interface d'eclipse.</p>

        <h2>Workspace</h2>

        <p>Au démarrage d'éclipse, on peut choisir son <b>workspace</b>.</p>

        <img src="img/workspace.png" style="margin:0 100px;"/>
        
        <p>Le workspace est le répertoire de travail d'eclipse qui contient tous les projets manipulées.</p>

        <p>Il est possible d'avoir plusieurs workspaces et de passer de l'un à l'autre mais cela est rarement nécessaire. Les capacités d'organisation au sein d'un workspace étant généralement suffisantes.</p>

        <h2>Perspectives et vues</h2>

        <p>Comme n'importe quel IDE, eclipse a sa façon de nommer les différents éléments de son interface.</p>

        <p>Cette nomenclature est importante car elle permet de communiquer en utilisant les mêmes termes.</p>

        <p>Le workbench est la fenêtre principale. Elle contient les menus, les vues, les éditeurs et des zones d'information.</p>

        <p>Les vues et les perspectives sont accessible via le menu Window.</p>

        <img src="img/view.png" style="margin:10px 10px;float:left"/>

        <p>Une vue est une sous partie de spécialisé l'interface : explorateur de projet, editeurs, serveurs, explorateur de repository svn...</p>

        <p>Il existe beaucoup de vues au sein d'eclipse.</p>

        <p>Les vues sont organisées en panneaux tabulés au sein du workbench</p>

        <p style="clear:both;"></p>

        <img src="img/perspective.png" style="margin:10px 10px;float:left"/>

        <p>Une perpective est une distribution particulière de vues dans le workbench : java, debug, database explorer, </p>

        <p>En changeant de perspective, on passe donc à une organisation adaptée à la tâche en cours.</p>

        <p style="clear:both;"></p>

        <p>Les éditeurs occupent généralement la partie centrale du worbench et permettent d'éditer les contenus.</p>

        <h2>Préférences</h2>

        <p>Les préférences sont accessibles via le menu Window.</p>

        <p>Elles permettent de régler tous les aspects de l'IDE : formattage des sources, environnement java, serveurs...</p>

        <p>Le moteur de recherche dans les préférences est très puissant et permet de trouver une option cachée dans un sous panneau d'un sous menu.</p>

        <h2>Plugins</h2>

        <p>Les plugins sont un élément fondamental d'éclipse. Eclipse est un conteneur de plugin.</p>

        <p>Les bundles viennent avec beaucoup de plugins pré installés et le menu Help &gt; Eclipse MarketPlace permet d'en installer de nouveaux.</p>

        <h2>Un projet java</h2>

        <p>Afin de tester quelques fonctionnalités d'eclipse, nous allons créer un projet java.</p>

        <p>Un projet java se crée via le menu File &gt; New &gt; Project... et en choisissant le type Java &gt; Java Project.</p>

        <img src="img/new-java-project.png" style="margin: 0 150px" />

        <p>On entre un nom de projet "test" et on clique sur finish.</p>

        <p>Un nouveau projet "test" est donc disponible dans le workspace et un répertoire src contiendra les sources java.</p>

        <h2>Une classe</h2>

        <p>En faisant un click droit sur le répertoire, on peut créer une classe java Person dans le package edu.ecm.test</p>

        <img src="img/new-java-class.png" style="margin: 0 120px" />

        <p>On obtient le code suivant :</p>

        <pre>package edu.ecm.test;

public class Person {

}</pre>

        <h2>Getters et Setters</h2>

        <p>On ajoute les attributs suivants dans la classe.</p>

        <pre>private String firstname;

private String lastname;</pre>

        <p>Eclipse est capable de générer les getters et setters pour ces attributs. Il suffit de faire un click droit dans l'éditeur et d'utiliser le menu Source &gt; Generate Getters and Setters...</p>

        <pre>public String getFirstname() {
    return firstname;
}

public void setFirstname(String firstname) {
    this.firstname = firstname;
}

public String getLastname() {
    return lastname;
}

public void setLastname(String lastname) {
    this.lastname = lastname;
}</pre>

        <h2>toString</h2>

        <p>La méthode toString() est la méthode qui transforme un Object en chaîne de caractères. Elle sert principalement à faire du débuggage car pour la serialisation il existe des mécaniques bidirectionnelles plus complètes.</p>

        <p>Eclipse peut également générer cette méthode via le menu contextuel Source &gt; Generate toString()...</p>

        <pre>@Override
public String toString() {
    return "Person [firstname=" + firstname + ", lastname=" + lastname + "]";
}</pre>

        <h2>equals et hashCode</h2>

        <p>Les méthodes equals et hashCode servent lorsque les objets sont utilisés dans des collections ou des mécaniques à base de tables de hash.</p>

        <p>Le contrat et le lien entre ces méthodes dépasse le cadre d'un simple exercice sur eclipse mais une description détaillée et simple est disponible dans le <a href="http://java.sun.com/developer/Books/effectivejava/Chapter3.pdf" class="external">chapitre 3 de effective java</a></p>

        <p>Avec eclipse, il suffit de demander la génération de ces méthodes via Source &gt; Generate hashCode() and equals()...</p>

        <pre>@Override
public int hashCode() {
    final int prime = 31;
    int result = 1;
    result = prime * result + ((firstname == null) ? 0 : firstname.hashCode());
    result = prime * result + ((lastname == null) ? 0 : lastname.hashCode());
    return result;
}

@Override
public boolean equals(Object obj) {
    if (this == obj)
        return true;
    if (obj == null)
        return false;
    if (getClass() != obj.getClass())
        return false;
    Person other = (Person) obj;
    if (firstname == null) {
        if (other.firstname != null)
            return false;
    } else if (!firstname.equals(other.firstname))
        return false;
    if (lastname == null) {
        if (other.lastname != null)
            return false;
    } else if (!lastname.equals(other.lastname))
        return false;
    return true;
}</pre>

        <p>Les capacités de génération d'eclipse vont bien au delà de ces simples exemples. Nous aurions pu faire tout ce code à la main et parfois cela est nécessaire.</p>

        <p>Cependant, java est un language verbeux et chaque fois que cela est possible, il est bon de pouvoir compter sur l'IDE.</p>

        <h2>main</h2>

        <p>On va maintenant créer un classe avec une méthode main.</p>

        <pre>public class Main {
    public static final void main(String[] args) {

    }
}</pre>

        <p>C'est la signature de méthode nécessaire afin qu'elle puisse être appelée en ligne de commande.</p>

        <p>En pratique, dans des environnements managés coté serveur, cette méthode n'est jamais définie.</p>

        <p>Afin de la tester un peu, on ajoute une écriture dans la sortie standard (stdout).</p>

        <pre>System.out.println("Hello world !");</pre>

        <p>On peut lancer cette méthode via le menu contextuel de la classe.</p>

        <img src="img/run-java-main.png" style="margin: 0 120px" />

        <p>On peut utiliser notre class Person depuis le main.</p>

        <pre>Person person = new Person();

person.setFirstname("alex");
person.setLastname("luthor");

System.out.println(person);</pre>

        <h2>Refactoring</h2>

        <p>Les IDEs java profite du fort typage du language afin d'offrir de grandes capacités de refactoring.</p>

        <p>Imaginons que nous souhaitions renommer la classe Person en People.</p>

        <p>Un click droit sur la classe et on accède au menu Refactor &gt; Rename... qui permet de faire le changement de nom.</p>

        <p>La classe main a été modifiée en fonction.</p>

        <pre>People person = new People();

person.setFirstname("alex");
person.setLastname("luthor");

System.out.println(person);</pre>

        <p>Encore une fois, les capacités d'eclipse dépassent amplement cet exemple simple. Son éditeur de code et ses outils de refactoring sont très puissants.</p>

        <h2>Navigation</h2>

        <p>Les capacités de navigation au sein de l'IDE sont nombreuses. Voici quelques façons de trouver ce que l'on cherche :</p>

        <ul>
            <li>control-click sur une référence ou une variable afin d'aller à la définition.</li>
            <li>control-shift-T (Open Type) afin de rechercher une classe via un moteur de recherche.</li>
            <li>click droit sur une classe puis References &gt; Project pour avoir toutes les utilisations de cette classe dans le cadre du projet.</li>
        </ul>

        <p>Par exemple, si on tape control-shift-T puis "People", on peut ouvrir rapidement le fichier contenant la classe sans utiliser la souris.</p>

        <h2>Plus de raccourçis</h2>

        <p>Les raccourçis clavier sont indispensables afin d'être plus productif. En voici quelques uns :</p>

        <ul>
            <li>Ctrl+Space : invoquer l'assistant de complétion</li>
            <li>Ctrl+W ou Ctrl+F4 : fermer l'éditeur courant</li>
            <li>Close All : fermer toutes les éditeurs</li>
            <li>Ctrl+N : assistant de création</li>
            <li>Ctrl+Shift+S : tout sauver</li>
            <li>Ctrl+L : aller à la ligne</li>
            <li>Alt+Left : fichier précédent de l'historique</li>
            <li>Alt+Right : fichier précédent de l'historique</li>
            <li>Ctrl+Shift+T : ouvrir la classe</li>
            <li>Ctrl+Alt+H : voir tous les appels sur une méthode</li>
            <li>F4 : voir la hiérarchie d'héritage d'une classe</li>
            <li>Ctrl+Shift+F : formatter le code</li>
        </ul>

        <p>Il est facile de trouver des listes de raccourçis sur le web. Par exemple, <a href="http://eclipse-tools.sourceforge.net/Keyboard_shortcuts_(3.0).pdf" class="external" target="_blank">en suivant ce lien</a></p>
</div>
</body>
</html>