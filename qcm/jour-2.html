<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="../common/boostrap/css/bootstrap.min.css">
    <script type="text/javascript" src="../common/jquery/jquery-1.8.3.min.js"></script>

    <style type="text/css">
        label.radio {
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 30px;
        }

        .radio input[type="radio"] {
            margin-left: -15px;
            margin-right: 5px;
        }

        input[type=submit] {
            margin-left: 30px;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>

    <div class="container">
        <form action="#">
            <legend>QCM</legend>

            <label>Votre nom ou email ou callsign</label>
            <input type="text" name="user">

            <label>Quel est le composant de base d'une application web jee ?</label>
            <label class="radio">
                <input type="radio" name="base-web-componenent">devlets
            </label>
            <label class="radio">
                <input type="radio" name="base-web-componenent">servlets
            </label>
            <label class="radio">
                <input type="radio" name="base-web-componenent">applets
            </label>
            <label class="radio">
                <input type="radio" name="base-web-componenent">funlets
            </label>

            <label>Quel terme ne désigne pas une classe java ?</label>
            <label class="radio">
                <input type="radio" name="this-is-not-a-java-class">composant
            </label>
            <label class="radio">
                <input type="radio" name="this-is-not-a-java-class">bean
            </label>
            <label class="radio">
                <input type="radio" name="this-is-not-a-java-class">descripteur de déploiement
            </label>
            <label class="radio">
                <input type="radio" name="this-is-not-a-java-class">POJO
            </label>

            <label>Quel est le pattern central des applications web ?</label>
            <label class="radio">
                <input type="radio" name="central-web-pattern">PVC
            </label>
            <label class="radio">
                <input type="radio" name="central-web-pattern">MVC
            </label>
            <label class="radio">
                <input type="radio" name="central-web-pattern">AVC
            </label>
            <label class="radio">
                <input type="radio" name="central-web-pattern">LOL
            </label>

            <label>Lequel n'est pas un framework web ?</label>
            <label class="radio">
                <input type="radio" name="is-not-a-web-framework">Play
            </label>
            <label class="radio">
                <input type="radio" name="is-not-a-web-framework">Grails
            </label>
            <label class="radio">
                <input type="radio" name="is-not-a-web-framework">Griffon
            </label>
            <label class="radio">
                <input type="radio" name="is-not-a-web-framework">Rails
            </label>

            <label>Un pattern important du web est</label>
            <label class="radio">
                <input type="radio" name="important-web-pattern">GET before REST
            </label>
            <label class="radio">
                <input type="radio" name="important-web-pattern">Forward after GET
            </label>
            <label class="radio">
                <input type="radio" name="important-web-pattern">REST before coding
            </label>
            <label class="radio">
                <input type="radio" name="important-web-pattern">Redirect after POST
            </label>

            <label>JDBC permet de se connecter</label>
            <label class="radio">
                <input type="radio" name="jdbc-connects-to">A une boite vocale
            </label>
            <label class="radio">
                <input type="radio" name="jdbc-connects-to">Au filesystem
            </label>
            <label class="radio">
                <input type="radio" name="jdbc-connects-to">Au cloud
            </label>
            <label class="radio">
                <input type="radio" name="jdbc-connects-to">A une base de données
            </label>

            <label>Les 4 opérations de création, lecture, mise à jour et suppression sont regroupées sous l'acronyme</label>
            <label class="radio">
                <input type="radio" name="create-request-update-delete-is">SCUD
            </label>
            <label class="radio">
                <input type="radio" name="create-request-update-delete-is">FUZZ
            </label>
            <label class="radio">
                <input type="radio" name="create-request-update-delete-is">DRY
            </label>
            <label class="radio">
                <input type="radio" name="create-request-update-delete-is">CRUD
            </label>

            <label>Hibernate est une implémentation de</label>
            <label class="radio">
                <input type="radio" name="hibernate-implements">EJB
            </label>
            <label class="radio">
                <input type="radio" name="hibernate-implements">JSF
            </label>
            <label class="radio">
                <input type="radio" name="hibernate-implements">JPA
            </label>
            <label class="radio">
                <input type="radio" name="hibernate-implements">JMS
            </label>

            <label>L'annotation standard (JSR 330) permettant d'obtenir une référence est</label>
            <label class="radio">
                <input type="radio" name="inject-with">@GiveItToMe
            </label>
            <label class="radio">
                <input type="radio" name="inject-with">@Autowired
            </label>
            <label class="radio">
                <input type="radio" name="inject-with">@Inject
            </label>
            <label class="radio">
                <input type="radio" name="inject-with">@Dependency
            </label>

            <label>Spring et Guice sont des frameworks par</label>
            <label class="radio">
                <input type="radio" name="spring-di-is">Surjection de dépendances
            </label>
            <label class="radio">
                <input type="radio" name="spring-di-is">Bijection de dépendances
            </label>
            <label class="radio">
                <input type="radio" name="spring-di-is">Injection de dépendances
            </label>
            <label class="radio">
                <input type="radio" name="spring-di-is">Servent a rien
            </label>

            <label>Quel est votre personnage favori dans "The big bang theory" ?</label>
            <label class="radio">
                <input type="radio" name="tbbt">Penny
            </label>
            <label class="radio">
                <input type="radio" name="tbbt">Sheldon Lee Cooper
            </label>
            <label class="radio">
                <input type="radio" name="tbbt">Leonard Leakey Hofstadter
            </label>
            <label class="radio">
                <input type="radio" name="tbbt">Howard Joel Wolowitz
            </label>
            <label class="radio">
                <input type="radio" name="tbbt">Rajesh Ramayan Koothrappali
            </label>

            <div style="clear: both;"/>
            <input type="submit" class="btn" value="Envoyer" />
            <div id="message"></div>
        </form>
    </div>

    <script type="text/javascript">
        $(function() {
            $("form").submit(function() {
                var qcm = {};
                qcm.answers = {};

                $("input:radio:checked").each(function(index, input) {
                    qcm.answers[input.name] = $.trim($(input).parent().text());
                });

                qcm.user = $("input[name=user]").val();
                qcm.day = 2;
                qcm.date = new Date();

                $("input[type=submit]").hide();
                $("#message").html('<div class="alert">Envoi en cours...</div>');

                $.ajax({ url: "https://api.mongolab.com/api/1/databases/prezjava/collections/qcm?apiKey=4e4562755e4c1f31ad38855d",
                    data: JSON.stringify( qcm ),
                    type: "POST",
                    contentType: "application/json"
                }).done(function( msg ) {
                    $("#message").html('<div class="alert alert-success">Merci</div>');
                });

                return false;
            });
        });
    </script>
</body>
</html>