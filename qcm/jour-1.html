<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="../common/boostrap/css/bootstrap.min.css">
    <script type="text/javascript" src="../common/jquery/jquery-1.8.3.min.js"></script>

    <style type="text/css">
        label.radio {
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 30px;
        }

        .radio input[type="radio"] {
            margin-left: -15px;
            margin-right: 5px;
        }

        input[type=submit] {
            margin-left: 30px;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>

    <div class="container">
        <form action="#">
            <legend>QCM</legend>

            <label>Votre nom ou email ou callsign</label>
            <input type="text" name="user">

            <label>L'intégration continue est une pratique</label>
            <label class="radio">
                <input type="radio" name="continuous-integration-is">RUP
            </label>
            <label class="radio">
                <input type="radio" name="continuous-integration-is">Waterfall
            </label>
            <label class="radio">
                <input type="radio" name="continuous-integration-is">Agile
            </label>
            <label class="radio">
                <input type="radio" name="continuous-integration-is">ITIL
            </label>

            <label>Qui est Kent Beck ?</label>
            <label class="radio">
                <input type="radio" name="kentbeck-is">Le prochain superman à l'écran
            </label>
            <label class="radio">
                <input type="radio" name="kentbeck-is">Un membre des Black Eyed Peas
            </label>
            <label class="radio">
                <input type="radio" name="kentbeck-is">Le créateur de XP et JUnit
            </label>
            <label class="radio">
                <input type="radio" name="kentbeck-is">Une marque de céréales
            </label>

            <label>La commande javac génère</label>
            <label class="radio">
                <input type="radio" name="javac-generates">Du bit code
            </label>
            <label class="radio">
                <input type="radio" name="javac-generates">Un fichier exe
            </label>
            <label class="radio">
                <input type="radio" name="javac-generates">Sans doute quelque chose
            </label>
            <label class="radio">
                <input type="radio" name="javac-generates">Du byte code
            </label>

            <label>Quel language ne tourne pas sur la JVM ?</label>
            <label class="radio">
                <input type="radio" name="not-running-on-jvm">Groovy
            </label>
            <label class="radio">
                <input type="radio" name="not-running-on-jvm">Scala
            </label>
            <label class="radio">
                <input type="radio" name="not-running-on-jvm">Python
            </label>
            <label class="radio">
                <input type="radio" name="not-running-on-jvm">Objective-C
            </label>

            <label>Laquelle de ces méthodes ne fait pas partie du protocol HTTP ?</label>
            <label class="radio">
                <input type="radio" name="not-an-http-method">PUT
            </label>
            <label class="radio">
                <input type="radio" name="not-an-http-method">POST
            </label>
            <label class="radio">
                <input type="radio" name="not-an-http-method">GET
            </label>
            <label class="radio">
                <input type="radio" name="not-an-http-method">SET
            </label>

            <label>La dernière version du language HTML est la</label>
            <label class="radio">
                <input type="radio" name="current-html-version">2.0
            </label>
            <label class="radio">
                <input type="radio" name="current-html-version">4
            </label>
            <label class="radio">
                <input type="radio" name="current-html-version">4.1
            </label>
            <label class="radio">
                <input type="radio" name="current-html-version">5
            </label>

            <label>Avec quel framework javascript sont envoyées les données de ce formulaire ?</label>
            <label class="radio">
                <input type="radio" name="js-framework-for-this-form">mootools
            </label>
            <label class="radio">
                <input type="radio" name="js-framework-for-this-form">angularjs
            </label>
            <label class="radio">
                <input type="radio" name="js-framework-for-this-form">jquery
            </label>
            <label class="radio">
                <input type="radio" name="js-framework-for-this-form">gwt
            </label>

            <label>Vers quel serveur sont envoyé les données de ce formulaire ?</label>
            <label class="radio">
                <input type="radio" name="db-for-this-form">mongolab
            </label>
            <label class="radio">
                <input type="radio" name="db-for-this-form">rackspace
            </label>
            <label class="radio">
                <input type="radio" name="db-for-this-form">mongohq
            </label>
            <label class="radio">
                <input type="radio" name="db-for-this-form">cloudfoundry
            </label>

            <label>Quelle est la commande maven afin de faire un build ?</label>
            <label class="radio">
                <input type="radio" name="create-build-with-maven">mvn install
            </label>
            <label class="radio">
                <input type="radio" name="create-build-with-maven">mvn clean
            </label>
            <label class="radio">
                <input type="radio" name="create-build-with-maven">mvn dependency:tree
            </label>
            <label class="radio">
                <input type="radio" name="create-build-with-maven">mvn package
            </label>

            <label>Avec maven, les dépendances sont</label>
            <label class="radio">
                <input type="radio" name="maven-dependencies-are">Lassives
            </label>
            <label class="radio">
                <input type="radio" name="maven-dependencies-are">Transitives
            </label>
            <label class="radio">
                <input type="radio" name="maven-dependencies-are">Bien gérées
            </label>
            <label class="radio">
                <input type="radio" name="maven-dependencies-are">Adaptives
            </label>

            <label>Qui peut sortir d'une boucle infinie ?</label>
            <label class="radio">
                <input type="radio" name="who-can-escape-infinite-loop">Chuck Norris
            </label>
            <label class="radio">
                <input type="radio" name="who-can-escape-infinite-loop">Chuck Norris
            </label>
            <label class="radio">
                <input type="radio" name="who-can-escape-infinite-loop">Chuck Norris
            </label>
            <label class="radio">
                <input type="radio" name="who-can-escape-infinite-loop">Chuck Norris
            </label>

            <div style="clear: both;"/>
            <input type="submit" class="btn" value="Envoyer" />
            <div id="message"></div>
        </form>
    </div>

    <script type="text/javascript">
        $(function() {
            $("form").submit(function() {
                var qcm = {};
                qcm.answers = {};

                $("input:radio:checked").each(function(index, input) {
                    qcm.answers[input.name] = $.trim($(input).parent().text());
                });

                qcm.user = $("input[name=user]").val();
                qcm.day = 1;
                qcm.date = new Date();

                $("input[type=submit]").hide();
                $("#message").html('<div class="alert">Envoi en cours...</div>');

                $.ajax({ url: "https://api.mongolab.com/api/1/databases/prezjava/collections/qcm?apiKey=4e4562755e4c1f31ad38855d",
                    data: JSON.stringify( qcm ),
                    type: "POST",
                    contentType: "application/json"
                }).done(function( msg ) {
                    $("#message").html('<div class="alert alert-success">Merci</div>');
                });

                return false;
            });
        });
    </script>
</body>
</html>